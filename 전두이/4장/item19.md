# 상속을 고려해 설계하고 문서화하라. 그러지 않았다면 상속을 금지하라

## **상속을 지원하려면 설계를 철저히 해야 한다**

- 상속용 클래스를 설계하려면, 클래스 내부적으로 메서드가 서로 어떻게 사용하는지(자기 사용 패턴)를 명확히 문서화해야 한다.
    - 자기 사용 패턴: 클래스 내부에서 한 메서드가 다른 메서드를 호출하는 방식.
    - 상속 시 문제가 생길 수 있음: 상위 클래스가 호출한 메서드가 하위 클래스에서 오버라이드된 메서드로 동작할 수 있음.
- **훅 메서드(hook)**

  하위 클래스가 상위 클래스의 동작을 중간에 변경하거나 확장할 수 있도록 설계된 `protected` 메서드

    - 상위 클래스의 알고리즘 흐름은 유지하되, 하위 클래스에서 원하는 동작을 끼워 넣을 수 있다. → 유연성과 재사용성 증가, 선택적 확장 제공

## **상속 설계는 복잡하고 신중해야 한다**

- 어떤 메서드를 `protected`로 노출할지 잘 판단해야 하고, 실제로 하위 클래스를 만들어 검증해야 한다.
- 상속 설계는 클래스에 많은 제약을 부여하고 유지보수 비용을 높인다.
- 상속용으로 설계하지 않은 클래스는 **상속을 금지**하는 것이 안전하다.
    - 클래스에 `final`을 선언하거나, 생성자를 외부에서 호출할 수 없게 설정

---

## 결론

- 상속 설계는 단순히 메서드를 재정의하는 문제를 넘어선다. 개발자로서 "상속을 허용할 것인가, 금지할 것인가"를 명확히 결정하고, 필요하다면 상속을 대신할 다른 설계 방식을 적극적으로 탐색해야 한다.
- 상속용 클래스를 설계하려면 문서화, 테스트, 그리고 내부 동작의 철저한 이해가 필수적이다. **상속은 신중히 사용하되, 필요하지 않다면 피하라.**