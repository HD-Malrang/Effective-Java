# 태그 달린 클래스보다는 클래스 계층구조를 활용하라

열거 타입 선언, 태그 필드, switch 문 등  여러 구현이 한 클래스에 혼합되어 있는 코드는 가독성이 나쁘다.

1. **태그 달린 클래스의 문제점**:
   - 불필요한 코드와 데이터 필드가 추가되어 코드가 복잡하고 장황해짐
   - 타입별로 조건문(`switch`, `if-else`)을 사용해야 하며, 새로운 타입을 추가할 때 실수로 조건문을 빼먹으면 런타임 오류가 발생할 가능성이 있음
   - 확장성과 유연성이 떨어짐. 다른 개발자가 새로운 타입을 추가하거나 유지보수하기 어려움
2. **클래스 계층구조의 장점**:
   - **간결하고 명확함**: 각 의미를 독립된 클래스로 분리해 관련 없는 데이터 필드를 제거
   - **타입 안전성**: 각 클래스의 생성자가 모든 필드를 초기화하고, 추상 메서드를 구현하도록 컴파일러가 보장
   - **유연성과 확장성**: 루트 클래스의 코드를 변경하지 않고도 계층구조를 확장할 수 있음
   - **컴파일 타임 타입 검사**: 특정 타입(예: `Rectangle`, `Circle`)만 매개변수로 제한하거나 명시적으로 다룰 수 있음
   - **자연스러운 계층 관계 반영**: 예를 들어, 정사각형(`Square`)이 사각형(`Rectangle`)의 특별한 형태임을 간단히 표현 가능
3. **리팩터링 권장**:
   - 새로운 클래스를 작성하는데 태그 필드가 등장한다면, 태그를 없애고 **계층구조**로 대체하는 방법을 고려하라
   - 기존 클래스에 태그 필드가 있다면, **계층구조로 리팩터링**하는 것을 고민하라

---

### **결론**

> 태그 달린 클래스는 코드가 복잡하고 유지보수가 어렵기 때문에, **클래스 계층구조로 설계**하여 간결하고 확장 가능한 구조를 만들어야 한다.
>